# Диаграмма классов
## **Диаграмма классов**

![](https://github.com/IliaKataev/KataevZvedenuk/blob/ed5b0d64b5e995602695cb6e752c32e93497cf83/class%20diagram/classssdriagram.png)

---

# Описание схемы БД

## Общее описание схемы

Данная база данных предназначена для хранения информации о пользователях, их параметрах, доступных услугах, правилах для услуг и заявках на получение услуг.

## Таблицы

### `parameter_types`
Хранит доступные типы пользовательских параметров.

- `id` — первичный ключ, автоинкремент.
- `code` — код параметра (уникальный для логики приложения).
- `name` — название параметра.
- `data_type` — тип данных параметра.

---

### `users`
Хранит информацию о зарегистрированных пользователях.

- `id` — первичный ключ, автоинкремент.
- `full_name` — полное имя пользователя.
- `login` — логин пользователя (уникальный).
- `password` — хэшированный пароль пользователя.
- `role` — роль пользователя.

---

### `parameters`
Хранит значения параметров, привязанные к пользователям.

- `id` — первичный ключ, автоинкремент.
- `user_id` — внешний ключ на таблицу `users`.
- `type_id` — внешний ключ на таблицу `parameter_types`.
- `value` — значение параметра в текстовом виде.

---

### `services`
Хранит описание предоставляемых услуг.

- `id` — первичный ключ, автоинкремент.
- `name` — название услуги.
- `description` — текстовое описание услуги.
- `activation_date` — дата активации услуги.
- `deactivation_date` — дата деактивации услуги (опционально).

---

### `rules`
Хранит правила, применяемые к услугам.

- `id` — первичный ключ, автоинкремент.
- `value` — значение для сравнения в правиле.
- `comparison_operator` — оператор сравнения (например, `>`, `<`, `==` и т.д.).
- `needed_type_id` — внешний ключ на таблицу `parameter_types` (указывает, к какому типу параметра применяется правило).

---

### `service_rules`
Связывающая таблица между услугами и правилами.

- `service_id` — внешний ключ на таблицу `services`.
- `rule_id` — внешний ключ на таблицу `rules`.
- **Первичный ключ составной**: (`service_id`, `rule_id`).

---

### `applications`
Хранит поданные пользователями заявки на получение услуг.

- `id` — первичный ключ, автоинкремент.
- `user_id` — внешний ключ на таблицу `users`.
- `service_id` — внешний ключ на таблицу `services`.
- `status` — текущий статус заявки.
- `result` — текстовое поле для результата рассмотрения заявки.
- `creation_date` — дата создания заявки.
- `closure_date` — дата закрытия заявки (если завершена).
- `deadline` — крайний срок рассмотрения заявки.

---

## Связи между таблицами

- `parameters.user_id` → `users.id`  
  (Параметры принадлежат конкретному пользователю. Удаление пользователя приведёт к удалению всех его параметров.)

- `parameters.type_id` → `parameter_types.id`  
  (Каждый параметр привязан к определённому типу параметра.)

- `rules.needed_type_id` → `parameter_types.id`  
  (Каждое правило связано с определённым типом параметра.)

- `service_rules.service_id` → `services.id`  
  (Определяет, к какой услуге относится правило.)

- `service_rules.rule_id` → `rules.id`  
  (Определяет, какое правило применяется к услуге.)

- `applications.user_id` → `users.id`  
  (Заявка подаётся определённым пользователем.)

- `applications.service_id` → `services.id`  
  (Заявка подаётся на конкретную услугу.)


